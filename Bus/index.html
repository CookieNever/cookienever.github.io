<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Times</title>
</head>

<body>
    <h1>Bus Times</h1>
    <p id="busTimes">Loading...</p>

    <script>
        const puppeteer = require('puppeteer');

        async function getBusTimes() {
            const browser = await puppeteer.launch();
            const page = await browser.newPage();

            try {
                await page.goto('https://www.linead.fr/?id=Delibes&dir=%C3%89pinay&num=L02', { waitUntil: 'networkidle2' });
                await page.waitForSelector('.hour', { timeout: 10000 }); // Wait for the element with class 'hour' to appear

                const busTimes = await page.evaluate(() => {
                    // Here we're running JavaScript code within the context of the page
                    const busTimesElement = document.querySelector('.hour');
                    return busTimesElement ? busTimesElement.textContent.trim() : 'Bus times not found';
                });

                console.log('Bus Times:', busTimes);
            } catch (error) {
                console.error('Error fetching bus times:', error);
            } finally {
                await browser.close();
            }
        }

        getBusTimes();
    </script>
</body>

</html>